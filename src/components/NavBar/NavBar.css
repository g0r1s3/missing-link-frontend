/* src/components/NavBar/NavBar.css */
/* Lokale Ausnahmen: BEM-Bezeichner & spezifische Kaskaden sind gewollt */
/* stylelint-disable selector-class-pattern, no-descending-specificity */

.ml-navbar {
    background: var(--surface);
    border-bottom-color: var(--border-color);
    border-bottom-style: solid;
    border-bottom-width: 1px;
    box-shadow: var(--shadow-2);
    color: var(--on-surface);
    display: flex;
    justify-content: center;
    left: 0;
    position: sticky;
    right: 0;
    top: 0;
    width: 100%;
    z-index: 1000;
}

/* auf /login volle Breite für den inneren Container */
.ml-navbar--fluid .ml-nav__inner {
    max-width: none;
}

/* Innerer Container */
.ml-nav__inner {
    align-items: center;
    display: grid;
    gap: var(--space-4);
    grid-template-columns: 1fr auto auto;

    /* zentrieren – margin: 0 auto ist für den Linter geblockt,
       daher hier gezielt freischalten */
    /* stylelint-disable-next-line scale-unlimited/declaration-strict-value */
    max-width: 1200px;
    padding: var(--space-3);
    width: 100%;             /* NEU: nimmt volle Breite im flex-Container ein */
}

/* Brand */
.ml-nav__brand a {
    color: var(--on-surface);
    font-size: 1.05rem;
    font-weight: 700;
    letter-spacing: 0.2px;
    text-decoration: none;
}

/* keep brand link color consistent on all states */
.ml-nav__brand a:hover,
.ml-nav__brand a:focus,
.ml-nav__brand a:active,
.ml-nav__brand a:visited {
    color: var(--on-surface);
}

/* Hauptlinks */
.ml-nav__links {
    display: flex;
    gap: var(--space-4);
}

.ml-nav__links a {
    border-radius: var(--radius-sm);
    color: var(--on-surface);
    line-height: 1;
    padding-block: var(--space-2);
    padding-inline: var(--space-3);
    text-decoration: none;
    transition: background-color 160ms ease;
}

/* Hover-Hintergrund über erlaubtes Token */
.ml-nav__links a:hover {
    background: var(--footer-link-bg-hover);
    color: var(--on-surface);
}

/* Alle übrigen Zustände bleiben farblich konsistent */
.ml-nav__links a:focus,
.ml-nav__links a:active,
.ml-nav__links a:visited {
    color: var(--on-surface);
}

/* Fokus-Ring für Links, Button & Brand */
.ml-nav__links a:focus-visible,
.ml-userbtn:focus-visible,
.ml-nav__brand a:focus-visible {
    border-radius: var(--radius-sm);
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}

/* User-Bereich */
.ml-nav__user {
    justify-self: end;
    position: relative;
}

/* Avatar-/User-Button */
.ml-userbtn {
    background: var(--footer-link-bg);
    border-color: var(--border-color);
    border-radius: var(--radius-full);
    border-style: solid;
    border-width: 1px;
    color: var(--on-surface);
    cursor: pointer;
    display: grid;
    height: 36px;
    line-height: 0;
    place-items: center;
    transition: background-color 160ms ease, border-color 160ms ease;
    width: 36px;
}

.ml-userbtn svg {
    display: block;
}

.ml-userbtn:hover {
    background: var(--footer-link-bg-hover);
    border-color: var(--color-accent);
}

.ml-user-menu {
    background: var(--panel-bg);
    border-color: var(--border-color);
    border-radius: var(--radius-md);
    border-style: solid;
    border-width: 1px;
    box-shadow: var(--shadow-3);
    color: var(--panel-text);
    min-width: 180px;
    padding-block: var(--space-2);
    padding-inline: var(--space-2);
    position: absolute;
    right: 0;
    top: calc(100% + 8px);
    z-index: 1100;
}

/* Kopf/Label oben (nicht klickbar) */
.ml-user-menu__header {
    border-bottom-color: var(--border-color);
    border-bottom-style: solid;
    border-bottom-width: 1px;
    color: var(--on-surface);
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: var(--space-2);
    padding-block-end: var(--space-2);
    padding-block-start: var(--space-1);
    padding-inline: var(--space-2);
}

/* Aktionen */
.ml-user-menu__actions {
    display: grid;
    gap: var(--space-2);
}

/* Buttons im Menü übernehmen Site-Style und füllen die Breite */
.ml-user-menu .ml-user-menu__btn.btn {
    border-radius: var(--radius-sm);
    line-height: 1.1;
    padding-block: var(--space-2);
    padding-inline: var(--space-3);
    width: 100%;
}

/* Falls ein Link um den Button liegt, Link resetten */
.ml-user-menu__linkbtn {
    color: var(--on-surface);
    display: block;
    text-decoration: none;
}

/* Legacy Styles – bleiben für Kompatibilität */
.ml-user-menu__item {
    border-radius: var(--radius-sm);
    color: var(--on-surface);
    display: block;
    padding-block: var(--space-2);
    padding-inline: var(--space-3);
    text-decoration: none;
}

.ml-user-menu__item:hover,
.ml-user-menu__item:focus {
    background: var(--footer-link-bg);
    outline: none;
}

/* Optional: Dark-Theme Tuning */
@media (prefers-color-scheme: dark) {
    .ml-user-menu {
        background: var(--panel-bg);
        border-color: var(--border-color);
        color: var(--panel-text);
    }

    .ml-user-menu__header {
        border-color: var(--border-color);
        color: var(--on-surface);
    }
}

/* stylelint-enable selector-class-pattern, no-descending-specificity */
